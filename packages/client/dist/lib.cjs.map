{"version":3,"file":"lib.cjs","sources":["../src/utils/audio.ts","../src/utils/rawAudioProcessor.ts","../src/utils/compatibility.ts","../src/utils/input.ts","../src/utils/audioConcatProcessor.ts","../src/utils/output.ts","../src/utils/events.ts","../src/utils/connection.ts","../src/index.ts"],"sourcesContent":["export function arrayBufferToBase64(b: ArrayBufferLike) {\n  const buffer = new Uint8Array(b);\n  // @ts-ignore\n  const base64Data = window.btoa(String.fromCharCode(...buffer));\n  return base64Data;\n}\n\nexport function base64ToArrayBuffer(base64: string): ArrayBuffer {\n  const binaryString = window.atob(base64);\n  const len = binaryString.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binaryString.charCodeAt(i);\n  }\n  return bytes.buffer;\n}\n","/*\n * ulaw encoding logic taken from the wavefile library\n * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js\n */\n\nconst blob = new Blob(\n  [\n    // language=JavaScript\n    `\n      const BIAS = 0x84;\n      const CLIP = 32635;\n      const encodeTable = [\n        0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\n        4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7\n      ];\n      \n      function encodeSample(sample) {\n        let sign;\n        let exponent;\n        let mantissa;\n        let muLawSample;\n        sign = (sample >> 8) & 0x80;\n        if (sign !== 0) sample = -sample;\n        sample = sample + BIAS;\n        if (sample > CLIP) sample = CLIP;\n        exponent = encodeTable[(sample>>7) & 0xFF];\n        mantissa = (sample >> (exponent+3)) & 0x0F;\n        muLawSample = ~(sign | (exponent << 4) | mantissa);\n        \n        return muLawSample;\n      }\n    \n      class RawAudioProcessor extends AudioWorkletProcessor {\n        constructor() {\n          super();\n                    \n          this.port.onmessage = ({ data }) => {\n            this.buffer = []; // Initialize an empty buffer\n            this.bufferSize = data.sampleRate / 4;\n            \n            if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {\n              globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {\n                this.resampler = resampler;\n              });\n            } \n          };\n        }\n        process(inputs) {\n          if (!this.buffer) {\n            return true;\n          }\n          \n          const input = inputs[0]; // Get the first input node\n          if (input.length > 0) {\n            let channelData = input[0]; // Get the first channel's data\n\n            // Resample the audio if necessary\n            if (this.resampler) {\n              channelData = this.resampler.full(channelData);\n            }\n\n            // Add channel data to the buffer\n            this.buffer.push(...channelData);\n            // Get max volume \n            let sum = 0.0;\n            for (let i = 0; i < channelData.length; i++) {\n              sum += channelData[i] * channelData[i];\n            }\n            const maxVolume = Math.sqrt(sum / channelData.length);\n            // Check if buffer size has reached or exceeded the threshold\n            if (this.buffer.length >= this.bufferSize) {\n              const float32Array = new Float32Array(this.buffer)\n              let encodedArray = this.format === \"ulaw\"\n                ? new Uint8Array(float32Array.length)\n                : new Int16Array(float32Array.length);\n\n              // Iterate through the Float32Array and convert each sample to PCM16\n              for (let i = 0; i < float32Array.length; i++) {\n                // Clamp the value to the range [-1, 1]\n                let sample = Math.max(-1, Math.min(1, float32Array[i]));\n\n                // Scale the sample to the range [-32768, 32767]\n                let value = sample < 0 ? sample * 32768 : sample * 32767;\n                if (this.format === \"ulaw\") {\n                  value = encodeSample(Math.round(value));\n                }\n\n                encodedArray[i] = value;\n              }\n\n              // Send the buffered data to the main script\n              this.port.postMessage([encodedArray, maxVolume]);\n\n              // Clear the buffer after sending\n              this.buffer = [];\n            }\n          }\n          return true; // Continue processing\n        }\n      }\n      registerProcessor(\"raw-audio-processor\", RawAudioProcessor);\n  `,\n  ],\n  { type: \"application/javascript\" }\n);\n\nexport const rawAudioProcessor = URL.createObjectURL(blob);\n","export function isIosDevice() {\n  return (\n    [\n      \"iPad Simulator\",\n      \"iPhone Simulator\",\n      \"iPod Simulator\",\n      \"iPad\",\n      \"iPhone\",\n      \"iPod\",\n    ].includes(navigator.platform) ||\n    // iPad on iOS 13 detection\n    (navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document)\n  );\n}\n\nexport function isAndroidDevice() {\n  return /android/i.test(navigator.userAgent);\n}\n","import { rawAudioProcessor } from \"./rawAudioProcessor\";\nimport { FormatConfig } from \"./connection\";\nimport { isIosDevice } from \"./compatibility\";\n\nexport type InputConfig = {\n  preferHeadphonesForIosDevices?: boolean;\n};\n\nconst LIBSAMPLERATE_JS =\n  \"https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js\";\n\nexport class Input {\n  public static async create({\n    sampleRate,\n    format,\n    preferHeadphonesForIosDevices,\n  }: FormatConfig & InputConfig): Promise<Input> {\n    let context: AudioContext | null = null;\n    let inputStream: MediaStream | null = null;\n\n    try {\n      const options: MediaTrackConstraints = {\n        sampleRate: { ideal: sampleRate },\n        echoCancellation: { ideal: true },\n        noiseSuppression: { ideal: true },\n      };\n\n      if (isIosDevice() && preferHeadphonesForIosDevices) {\n        const availableDevices =\n          await window.navigator.mediaDevices.enumerateDevices();\n        const idealDevice = availableDevices.find(\n          d =>\n            // cautious to include \"bluetooth\" in the search\n            // as might trigger bluetooth speakers\n            d.kind === \"audioinput\" &&\n            [\"airpod\", \"headphone\", \"earphone\"].find(keyword =>\n              d.label.toLowerCase().includes(keyword)\n            )\n        );\n        if (idealDevice) {\n          options.deviceId = { ideal: idealDevice.deviceId };\n        }\n      }\n\n      const supportsSampleRateConstraint =\n        navigator.mediaDevices.getSupportedConstraints().sampleRate;\n\n      context = new window.AudioContext(\n        supportsSampleRateConstraint ? { sampleRate } : {}\n      );\n      const analyser = context.createAnalyser();\n      if (!supportsSampleRateConstraint) {\n        await context.audioWorklet.addModule(LIBSAMPLERATE_JS);\n      }\n      await context.audioWorklet.addModule(rawAudioProcessor);\n\n      inputStream = await navigator.mediaDevices.getUserMedia({\n        audio: options,\n      });\n\n      const source = context.createMediaStreamSource(inputStream);\n      const worklet = new AudioWorkletNode(context, \"raw-audio-processor\");\n      worklet.port.postMessage({ type: \"setFormat\", format, sampleRate });\n\n      source.connect(analyser);\n      analyser.connect(worklet);\n\n      await context.resume();\n\n      return new Input(context, analyser, worklet, inputStream);\n    } catch (error) {\n      inputStream?.getTracks().forEach(track => track.stop());\n      context?.close();\n      throw error;\n    }\n  }\n\n  private constructor(\n    public readonly context: AudioContext,\n    public readonly analyser: AnalyserNode,\n    public readonly worklet: AudioWorkletNode,\n    public readonly inputStream: MediaStream\n  ) {}\n\n  public async close() {\n    this.inputStream.getTracks().forEach(track => track.stop());\n    await this.context.close();\n  }\n}\n","/*\n * ulaw decoding logic taken from the wavefile library\n * https://github.com/rochars/wavefile/blob/master/lib/codecs/mulaw.js\n */\n\nconst blob = new Blob(\n  [\n    // language=JavaScript\n    `\n      const decodeTable = [0,132,396,924,1980,4092,8316,16764];\n      \n      export function decodeSample(muLawSample) {\n        let sign;\n        let exponent;\n        let mantissa;\n        let sample;\n        muLawSample = ~muLawSample;\n        sign = (muLawSample & 0x80);\n        exponent = (muLawSample >> 4) & 0x07;\n        mantissa = muLawSample & 0x0F;\n        sample = decodeTable[exponent] + (mantissa << (exponent+3));\n        if (sign !== 0) sample = -sample;\n\n        return sample;\n      }\n      \n      class AudioConcatProcessor extends AudioWorkletProcessor {\n        constructor() {\n          super();\n          this.buffers = []; // Initialize an empty buffer\n          this.cursor = 0;\n          this.currentBuffer = null;\n          this.wasInterrupted = false;\n          this.finished = false;\n          \n          this.port.onmessage = ({ data }) => {\n            switch (data.type) {\n              case \"setFormat\":\n                this.format = data.format;\n                break;\n              case \"buffer\":\n                this.wasInterrupted = false;\n                this.buffers.push(\n                  this.format === \"ulaw\"\n                    ? new Uint8Array(data.buffer)\n                    : new Int16Array(data.buffer)\n                );\n                break;\n              case \"interrupt\":\n                this.wasInterrupted = true;\n                break;\n              case \"clearInterrupted\":\n                if (this.wasInterrupted) {\n                  this.wasInterrupted = false;\n                  this.buffers = [];\n                  this.currentBuffer = null;\n                }\n            }\n          };\n        }\n        process(_, outputs) {\n          let finished = false;\n          const output = outputs[0][0];\n          for (let i = 0; i < output.length; i++) {\n            if (!this.currentBuffer) {\n              if (this.buffers.length === 0) {\n                finished = true;\n                break;\n              }\n              this.currentBuffer = this.buffers.shift();\n              this.cursor = 0;\n            }\n\n            let value = this.currentBuffer[this.cursor];\n            if (this.format === \"ulaw\") {\n              value = decodeSample(value);\n            }\n            output[i] = value / 32768;\n            this.cursor++;\n\n            if (this.cursor >= this.currentBuffer.length) {\n              this.currentBuffer = null;\n            }\n          }\n\n          if (this.finished !== finished) {\n            this.finished = finished;\n            this.port.postMessage({ type: \"process\", finished });\n          }\n\n          return true; // Continue processing\n        }\n      }\n\n      registerProcessor(\"audio-concat-processor\", AudioConcatProcessor);\n    `,\n  ],\n  { type: \"application/javascript\" }\n);\n\nexport const audioConcatProcessor = URL.createObjectURL(blob);\n","import { audioConcatProcessor } from \"./audioConcatProcessor\";\nimport { FormatConfig } from \"./connection\";\n\nexport class Output {\n  public static async create({\n    sampleRate,\n    format,\n  }: FormatConfig): Promise<Output> {\n    let context: AudioContext | null = null;\n    try {\n      context = new AudioContext({ sampleRate });\n      const analyser = context.createAnalyser();\n      const gain = context.createGain();\n      gain.connect(analyser);\n      analyser.connect(context.destination);\n      await context.audioWorklet.addModule(audioConcatProcessor);\n      const worklet = new AudioWorkletNode(context, \"audio-concat-processor\");\n      worklet.port.postMessage({ type: \"setFormat\", format });\n      worklet.connect(gain);\n\n      await context.resume();\n\n      return new Output(context, analyser, gain, worklet);\n    } catch (error) {\n      context?.close();\n      throw error;\n    }\n  }\n\n  private constructor(\n    public readonly context: AudioContext,\n    public readonly analyser: AnalyserNode,\n    public readonly gain: GainNode,\n    public readonly worklet: AudioWorkletNode\n  ) {}\n\n  public async close() {\n    await this.context.close();\n  }\n}\n","import { Language } from \"./connection\";\n\nexport type UserTranscriptionEvent = {\n  type: \"user_transcript\";\n  user_transcription_event: { user_transcript: string };\n};\nexport type AgentResponseEvent = {\n  type: \"agent_response\";\n  agent_response_event: { agent_response: string };\n};\nexport type AgentAudioEvent = {\n  type: \"audio\";\n  audio_event: {\n    audio_base_64: string;\n    event_id: number;\n  };\n};\nexport type InterruptionEvent = {\n  type: \"interruption\";\n  interruption_event: {\n    event_id: number;\n  };\n};\nexport type InternalTentativeAgentResponseEvent = {\n  type: \"internal_tentative_agent_response\";\n  tentative_agent_response_internal_event: {\n    tentative_agent_response: string;\n  };\n};\nexport type ConfigEvent = {\n  type: \"conversation_initiation_metadata\";\n  conversation_initiation_metadata_event: {\n    conversation_id: string;\n    agent_output_audio_format: string;\n    user_input_audio_format?: string;\n  };\n};\nexport type PingEvent = {\n  type: \"ping\";\n  ping_event: {\n    event_id: number;\n    ping_ms?: number;\n  };\n};\nexport type ClientToolCallEvent = {\n  type: \"client_tool_call\";\n  client_tool_call: {\n    tool_name: string;\n    tool_call_id: string;\n    parameters: any;\n    expects_response: boolean;\n  };\n};\n\n// TODO correction missing\nexport type IncomingSocketEvent =\n  | UserTranscriptionEvent\n  | AgentResponseEvent\n  | AgentAudioEvent\n  | InterruptionEvent\n  | InternalTentativeAgentResponseEvent\n  | ConfigEvent\n  | PingEvent\n  | ClientToolCallEvent;\n\nexport type PongEvent = {\n  type: \"pong\";\n  event_id: number;\n};\nexport type UserAudioEvent = {\n  user_audio_chunk: string;\n};\nexport type UserFeedbackEvent = {\n  type: \"feedback\";\n  score: \"like\" | \"dislike\";\n  event_id: number;\n};\nexport type ClientToolResultEvent = {\n  type: \"client_tool_result\";\n  tool_call_id: string;\n  result: any;\n  is_error: boolean;\n};\nexport type InitiationClientDataEvent = {\n  type: \"conversation_initiation_client_data\";\n  conversation_config_override?: {\n    agent?: {\n      prompt?: {\n        prompt?: string;\n      };\n      first_message?: string;\n      language?: Language;\n    };\n    tts?: {\n      voice_id?: string;\n    };\n  };\n  custom_llm_extra_body?: any;\n  dynamic_variables?: Record<string, string | number | boolean>;\n};\nexport type OutgoingSocketEvent =\n  | PongEvent\n  | UserAudioEvent\n  | InitiationClientDataEvent\n  | UserFeedbackEvent\n  | ClientToolResultEvent;\n\nexport function isValidSocketEvent(event: any): event is IncomingSocketEvent {\n  return !!event.type;\n}\n","import {\n  InitiationClientDataEvent,\n  ConfigEvent,\n  isValidSocketEvent,\n  OutgoingSocketEvent,\n  IncomingSocketEvent,\n} from \"./events\";\n\nconst MAIN_PROTOCOL = \"convai\";\n\nexport type Language =\n  | \"en\"\n  | \"ja\"\n  | \"zh\"\n  | \"de\"\n  | \"hi\"\n  | \"fr\"\n  | \"ko\"\n  | \"pt\"\n  | \"it\"\n  | \"es\"\n  | \"id\"\n  | \"nl\"\n  | \"tr\"\n  | \"pl\"\n  | \"sv\"\n  | \"bg\"\n  | \"ro\"\n  | \"ar\"\n  | \"cs\"\n  | \"el\"\n  | \"fi\"\n  | \"ms\"\n  | \"da\"\n  | \"ta\"\n  | \"uk\"\n  | \"ru\"\n  | \"hu\"\n  | \"no\"\n  | \"vi\";\nexport type SessionConfig = {\n  origin?: string;\n  authorization?: string;\n  overrides?: {\n    agent?: {\n      prompt?: {\n        prompt?: string;\n      };\n      firstMessage?: string;\n      language?: Language;\n    };\n    tts?: {\n      voiceId?: string;\n    };\n  };\n  customLlmExtraBody?: any;\n  dynamicVariables?: Record<string, string | number | boolean>;\n  connectionDelay?: {\n    default: number;\n    android?: number;\n    ios?: number;\n  };\n} & (\n  | { signedUrl: string; agentId?: undefined }\n  | { agentId: string; signedUrl?: undefined }\n);\nexport type FormatConfig = {\n  format: \"pcm\" | \"ulaw\";\n  sampleRate: number;\n};\nexport type DisconnectionDetails =\n  | {\n      reason: \"error\";\n      message: string;\n      context: Event;\n    }\n  | {\n      reason: \"agent\";\n      context: CloseEvent;\n    }\n  | {\n      reason: \"user\";\n    };\nexport type OnDisconnectCallback = (details: DisconnectionDetails) => void;\nexport type OnMessageCallback = (event: IncomingSocketEvent) => void;\n\nconst WSS_API_ORIGIN = \"wss://api.elevenlabs.io\";\nconst WSS_API_PATHNAME = \"/v1/convai/conversation?agent_id=\";\n\nexport class Connection {\n  public static async create(config: SessionConfig): Promise<Connection> {\n    let socket: WebSocket | null = null;\n\n    try {\n      const origin = config.origin ?? WSS_API_ORIGIN;\n      const url = config.signedUrl\n        ? config.signedUrl\n        : origin + WSS_API_PATHNAME + config.agentId;\n\n      const protocols = [MAIN_PROTOCOL];\n      if (config.authorization) {\n        protocols.push(`bearer.${config.authorization}`);\n      }\n      socket = new WebSocket(url, protocols);\n      const conversationConfig = await new Promise<\n        ConfigEvent[\"conversation_initiation_metadata_event\"]\n      >((resolve, reject) => {\n        socket!.addEventListener(\n          \"open\",\n          () => {\n            const overridesEvent: InitiationClientDataEvent = {\n              type: \"conversation_initiation_client_data\",\n            };\n\n            if (config.overrides) {\n              overridesEvent.conversation_config_override = {\n                agent: {\n                  prompt: config.overrides.agent?.prompt,\n                  first_message: config.overrides.agent?.firstMessage,\n                  language: config.overrides.agent?.language,\n                },\n                tts: {\n                  voice_id: config.overrides.tts?.voiceId,\n                },\n              };\n            }\n\n            if (config.customLlmExtraBody) {\n              overridesEvent.custom_llm_extra_body = config.customLlmExtraBody;\n            }\n\n            if (config.dynamicVariables) {\n              overridesEvent.dynamic_variables = config.dynamicVariables;\n            }\n\n            socket?.send(JSON.stringify(overridesEvent));\n          },\n          { once: true }\n        );\n        socket!.addEventListener(\"error\", event => {\n          // In case the error event is followed by a close event, we want the\n          // latter to be the one that rejects the promise as it contains more\n          // useful information.\n          setTimeout(() => reject(event), 0);\n        });\n        socket!.addEventListener(\"close\", reject);\n        socket!.addEventListener(\n          \"message\",\n          (event: MessageEvent) => {\n            const message = JSON.parse(event.data);\n\n            if (!isValidSocketEvent(message)) {\n              return;\n            }\n\n            if (message.type === \"conversation_initiation_metadata\") {\n              resolve(message.conversation_initiation_metadata_event);\n            } else {\n              console.warn(\n                \"First received message is not conversation metadata.\"\n              );\n            }\n          },\n          { once: true }\n        );\n      });\n\n      const {\n        conversation_id,\n        agent_output_audio_format,\n        user_input_audio_format,\n      } = conversationConfig;\n\n      const inputFormat = parseFormat(user_input_audio_format ?? \"pcm_16000\");\n      const outputFormat = parseFormat(agent_output_audio_format);\n\n      return new Connection(socket, conversation_id, inputFormat, outputFormat);\n    } catch (error) {\n      socket?.close();\n      throw error;\n    }\n  }\n\n  private queue: IncomingSocketEvent[] = [];\n  private disconnectionDetails: DisconnectionDetails | null = null;\n  private onDisconnectCallback: OnDisconnectCallback | null = null;\n  private onMessageCallback: OnMessageCallback | null = null;\n\n  private constructor(\n    public readonly socket: WebSocket,\n    public readonly conversationId: string,\n    public readonly inputFormat: FormatConfig,\n    public readonly outputFormat: FormatConfig\n  ) {\n    this.socket.addEventListener(\"error\", event => {\n      // In case the error event is followed by a close event, we want the\n      // latter to be the one that disconnects the session as it contains more\n      // useful information.\n      setTimeout(\n        () =>\n          this.disconnect({\n            reason: \"error\",\n            message: \"The connection was closed due to a socket error.\",\n            context: event,\n          }),\n        0\n      );\n    });\n    this.socket.addEventListener(\"close\", event => {\n      this.disconnect(\n        event.code === 1000\n          ? {\n              reason: \"agent\",\n              context: event,\n            }\n          : {\n              reason: \"error\",\n              message:\n                event.reason || \"The connection was closed by the server.\",\n              context: event,\n            }\n      );\n    });\n    this.socket.addEventListener(\"message\", event => {\n      try {\n        const parsedEvent = JSON.parse(event.data);\n        if (!isValidSocketEvent(parsedEvent)) {\n          return;\n        }\n\n        if (this.onMessageCallback) {\n          this.onMessageCallback(parsedEvent);\n        } else {\n          this.queue.push(parsedEvent);\n        }\n      } catch (_) {}\n    });\n  }\n\n  public close() {\n    this.socket.close();\n  }\n\n  public sendMessage(message: OutgoingSocketEvent) {\n    this.socket.send(JSON.stringify(message));\n  }\n\n  public onMessage(callback: OnMessageCallback) {\n    this.onMessageCallback = callback;\n    this.queue.forEach(callback);\n    this.queue = [];\n  }\n\n  public onDisconnect(callback: OnDisconnectCallback) {\n    this.onDisconnectCallback = callback;\n    if (this.disconnectionDetails) {\n      callback(this.disconnectionDetails);\n    }\n  }\n\n  private disconnect(details: DisconnectionDetails) {\n    if (!this.disconnectionDetails) {\n      this.disconnectionDetails = details;\n      this.onDisconnectCallback?.(details);\n    }\n  }\n}\n\nfunction parseFormat(format: string): FormatConfig {\n  const [formatPart, sampleRatePart] = format.split(\"_\");\n  if (![\"pcm\", \"ulaw\"].includes(formatPart)) {\n    throw new Error(`Invalid format: ${format}`);\n  }\n\n  const sampleRate = parseInt(sampleRatePart);\n  if (isNaN(sampleRate)) {\n    throw new Error(`Invalid sample rate: ${sampleRatePart}`);\n  }\n\n  return {\n    format: formatPart as FormatConfig[\"format\"],\n    sampleRate,\n  };\n}\n","import { arrayBufferToBase64, base64ToArrayBuffer } from \"./utils/audio\";\nimport { Input, InputConfig } from \"./utils/input\";\nimport { Output } from \"./utils/output\";\nimport {\n  Connection,\n  DisconnectionDetails,\n  OnDisconnectCallback,\n  SessionConfig,\n} from \"./utils/connection\";\nimport { ClientToolCallEvent, IncomingSocketEvent } from \"./utils/events\";\nimport { isAndroidDevice, isIosDevice } from \"./utils/compatibility\";\n\nexport type { IncomingSocketEvent } from \"./utils/events\";\nexport type { SessionConfig, DisconnectionDetails } from \"./utils/connection\";\nexport type Role = \"user\" | \"ai\";\nexport type Mode = \"speaking\" | \"listening\";\nexport type Status =\n  | \"connecting\"\n  | \"connected\"\n  | \"disconnecting\"\n  | \"disconnected\";\nexport type Options = SessionConfig &\n  Callbacks &\n  ClientToolsConfig &\n  InputConfig;\nexport type ClientToolsConfig = {\n  clientTools: Record<\n    string,\n    (\n      parameters: any\n    ) => Promise<string | number | void> | string | number | void\n  >;\n};\nexport type Callbacks = {\n  onConnect: (props: { conversationId: string }) => void;\n  // internal debug events, not to be used\n  onDebug: (props: any) => void;\n  onDisconnect: OnDisconnectCallback;\n  onError: (message: string, context?: any) => void;\n  onMessage: (props: { message: string; source: Role }) => void;\n  onModeChange: (prop: { mode: Mode }) => void;\n  onStatusChange: (prop: { status: Status }) => void;\n  onCanSendFeedbackChange: (prop: { canSendFeedback: boolean }) => void;\n  onUnhandledClientToolCall?: (\n    params: ClientToolCallEvent[\"client_tool_call\"]\n  ) => void;\n};\n\nconst defaultClientTools = { clientTools: {} };\nconst defaultCallbacks: Callbacks = {\n  onConnect: () => {},\n  onDebug: () => {},\n  onDisconnect: () => {},\n  onError: () => {},\n  onMessage: () => {},\n  onModeChange: () => {},\n  onStatusChange: () => {},\n  onCanSendFeedbackChange: () => {},\n};\n\nconst HTTPS_API_ORIGIN = \"https://api.elevenlabs.io\";\n\nexport class Conversation {\n  public static async startSession(\n    options: SessionConfig &\n      Partial<Callbacks> &\n      Partial<ClientToolsConfig> &\n      Partial<InputConfig>\n  ): Promise<Conversation> {\n    const fullOptions: Options = {\n      ...defaultClientTools,\n      ...defaultCallbacks,\n      ...options,\n    };\n\n    fullOptions.onStatusChange({ status: \"connecting\" });\n    fullOptions.onCanSendFeedbackChange({ canSendFeedback: false });\n\n    let input: Input | null = null;\n    let connection: Connection | null = null;\n    let output: Output | null = null;\n    let preliminaryInputStream: MediaStream | null = null;\n\n    try {\n      // some browsers won't allow calling getSupportedConstraints or enumerateDevices\n      // before getting approval for microphone access\n      preliminaryInputStream = await navigator.mediaDevices.getUserMedia({\n        audio: true,\n      });\n\n      const delayConfig = options.connectionDelay ?? {\n        default: 0,\n        // Give the Android AudioManager enough time to switch to the correct audio mode\n        android: 3_000,\n      };\n      let delay = delayConfig.default;\n      if (isAndroidDevice()) {\n        delay = delayConfig.android ?? delay;\n      } else if (isIosDevice()) {\n        delay = delayConfig.ios ?? delay;\n      }\n\n      if (delay > 0) {\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n\n      connection = await Connection.create(options);\n      [input, output] = await Promise.all([\n        Input.create({\n          ...connection.inputFormat,\n          preferHeadphonesForIosDevices: options.preferHeadphonesForIosDevices,\n        }),\n        Output.create(connection.outputFormat),\n      ]);\n\n      preliminaryInputStream?.getTracks().forEach(track => track.stop());\n      preliminaryInputStream = null;\n\n      return new Conversation(fullOptions, connection, input, output);\n    } catch (error) {\n      fullOptions.onStatusChange({ status: \"disconnected\" });\n      preliminaryInputStream?.getTracks().forEach(track => track.stop());\n      connection?.close();\n      await input?.close();\n      await output?.close();\n      throw error;\n    }\n  }\n\n  private lastInterruptTimestamp: number = 0;\n  private mode: Mode = \"listening\";\n  private status: Status = \"connecting\";\n  private inputFrequencyData?: Uint8Array;\n  private outputFrequencyData?: Uint8Array;\n  private volume: number = 1;\n  private currentEventId: number = 1;\n  private lastFeedbackEventId: number = 1;\n  private canSendFeedback: boolean = false;\n\n  private constructor(\n    private readonly options: Options,\n    private readonly connection: Connection,\n    public readonly input: Input,\n    public readonly output: Output\n  ) {\n    this.options.onConnect({ conversationId: connection.conversationId });\n\n    this.connection.onDisconnect(this.endSessionWithDetails);\n    this.connection.onMessage(this.onMessage);\n\n    this.input.worklet.port.onmessage = this.onInputWorkletMessage;\n    this.output.worklet.port.onmessage = this.onOutputWorkletMessage;\n    this.updateStatus(\"connected\");\n  }\n\n  public endSession = () => this.endSessionWithDetails({ reason: \"user\" });\n\n  private endSessionWithDetails = async (details: DisconnectionDetails) => {\n    if (this.status !== \"connected\" && this.status !== \"connecting\") return;\n    this.updateStatus(\"disconnecting\");\n\n    this.connection.close();\n    await this.input.close();\n    await this.output.close();\n\n    this.updateStatus(\"disconnected\");\n    this.options.onDisconnect(details);\n  };\n\n  private updateMode = (mode: Mode) => {\n    if (mode !== this.mode) {\n      this.mode = mode;\n      this.options.onModeChange({ mode });\n    }\n  };\n\n  private updateStatus = (status: Status) => {\n    if (status !== this.status) {\n      this.status = status;\n      this.options.onStatusChange({ status });\n    }\n  };\n\n  private updateCanSendFeedback = () => {\n    const canSendFeedback = this.currentEventId !== this.lastFeedbackEventId;\n    if (this.canSendFeedback !== canSendFeedback) {\n      this.canSendFeedback = canSendFeedback;\n      this.options.onCanSendFeedbackChange({ canSendFeedback });\n    }\n  };\n\n  private onMessage = async (parsedEvent: IncomingSocketEvent) => {\n    switch (parsedEvent.type) {\n      case \"interruption\": {\n        if (parsedEvent.interruption_event) {\n          this.lastInterruptTimestamp = parsedEvent.interruption_event.event_id;\n        }\n        this.fadeOutAudio();\n        break;\n      }\n\n      case \"agent_response\": {\n        this.options.onMessage({\n          source: \"ai\",\n          message: parsedEvent.agent_response_event.agent_response,\n        });\n        break;\n      }\n\n      case \"user_transcript\": {\n        this.options.onMessage({\n          source: \"user\",\n          message: parsedEvent.user_transcription_event.user_transcript,\n        });\n        break;\n      }\n\n      case \"internal_tentative_agent_response\": {\n        this.options.onDebug({\n          type: \"tentative_agent_response\",\n          response:\n            parsedEvent.tentative_agent_response_internal_event\n              .tentative_agent_response,\n        });\n        break;\n      }\n\n      case \"client_tool_call\": {\n        if (\n          this.options.clientTools.hasOwnProperty(\n            parsedEvent.client_tool_call.tool_name\n          )\n        ) {\n          try {\n            const result =\n              (await this.options.clientTools[\n                parsedEvent.client_tool_call.tool_name\n              ](parsedEvent.client_tool_call.parameters)) ??\n              \"Client tool execution successful.\"; // default client-tool call response\n\n            this.connection.sendMessage({\n              type: \"client_tool_result\",\n              tool_call_id: parsedEvent.client_tool_call.tool_call_id,\n              result: result,\n              is_error: false,\n            });\n          } catch (e) {\n            this.onError(\n              \"Client tool execution failed with following error: \" +\n                (e as Error)?.message,\n              {\n                clientToolName: parsedEvent.client_tool_call.tool_name,\n              }\n            );\n            this.connection.sendMessage({\n              type: \"client_tool_result\",\n              tool_call_id: parsedEvent.client_tool_call.tool_call_id,\n              result: \"Client tool execution failed: \" + (e as Error)?.message,\n              is_error: true,\n            });\n          }\n\n          break;\n        }\n\n        if (this.options.onUnhandledClientToolCall) {\n          this.options.onUnhandledClientToolCall(parsedEvent.client_tool_call);\n\n          break;\n        }\n\n        this.onError(\n          `Client tool with name ${parsedEvent.client_tool_call.tool_name} is not defined on client`,\n          {\n            clientToolName: parsedEvent.client_tool_call.tool_name,\n          }\n        );\n        this.connection.sendMessage({\n          type: \"client_tool_result\",\n          tool_call_id: parsedEvent.client_tool_call.tool_call_id,\n          result: `Client tool with name ${parsedEvent.client_tool_call.tool_name} is not defined on client`,\n          is_error: true,\n        });\n\n        break;\n      }\n\n      case \"audio\": {\n        if (this.lastInterruptTimestamp <= parsedEvent.audio_event.event_id) {\n          this.addAudioBase64Chunk(parsedEvent.audio_event.audio_base_64);\n          this.currentEventId = parsedEvent.audio_event.event_id;\n          this.updateCanSendFeedback();\n          this.updateMode(\"speaking\");\n        }\n        break;\n      }\n\n      case \"ping\": {\n        this.addAudioBase64Chunk(\n          \"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dGtoZAAAAAHj4Juu4+CbsgAAAAEAAAAAAAEN/gAAAAAAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAApBtZGlhAAAAIG1kaGQAAAAA4+CbruPgm7IAAF3AAAEYAFXEAAAAAAAxaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAENvcmUgTWVkaWEgQXVkaW8AAAACN21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB+3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAABdwAAAAAAAM2VzZHMAAAAAA4CAgCIAAAAEgICAFEAUABgAAAB9AAAAfQAFgICAAhMIBoCAgAECAAAAGHN0dHMAAAAAAAAAAQAAAEYAAAQAAAAAKHN0c2MAAAAAAAAAAgAAAAEAAAAXAAAAAQAAAAQAAAABAAAAAQAAASxzdHN6AAAAAAAAAAAAAABGAAAABAAAAAQAAACpAAAA6QAAAKQAAAClAAAApgAAAKcAAACfAAAApQAAALYAAACpAAAA9wAAASkAAAC7AAAAugAAAMgAAAC1AAAA0AAAATMAAAC3AAAAugAAAM8AAAD7AAAA2AAAAO4AAAD9AAAA+gAAANUAAADbAAABiAAAAPkAAAC+AAAAuQAAAOsAAADeAAAArgAAAPcAAADRAAAAoQAAANIAAADNAAAA8QAAALcAAACgAAAAlQAAAKMAAACvAAAA5gAAAM0AAADGAAAAyQAAAK4AAAC2AAAArAAAALMAAACeAAAAlgAAAI8AAACTAAAAkQAAAIgAAACcAAAAkgAAAI8AAACKAAAAkgAAAJEAAACiAAAAMwAAACBzdGNvAAAAAAAAAAQAAAAsAAAQVAAAJBAAADLiAAABQHVkdGEAAAAcZGF0ZTIwMjUtMDItMjNUMDk6MzI6MzBaAAABHG1ldGEAAAAAAAAAImhkbHIAAAAAAAAAAG1kaXIAAAAAAAAAAAAAAAAAAAAAAO5pbHN0AAAAJaluYW0AAAAdZGF0YQAAAAEAAAAATmV3IFJlY29yZGluZwAAAHMtLS0tAAAAHG1lYW4AAAAAY29tLmFwcGxlLmlUdW5lcwAAABtuYW1lAAAAAHZvaWNlLW1lbW8tdXVpZAAAADRkYXRhAAAAAQAAAAAyNDJDREM1MC1EMEFDLTRCMUQtQTAwQi1CQzE1N0EyNENGNjgAAABOqXRvbwAAAEZkYXRhAAAAAQAAAABjb20uYXBwbGUuVm9pY2VNZW1vcyAoaVBhZCBWZXJzaW9uIDE0LjEgKEJ1aWxkIDIzQjc0KSkAAACXZnJlZWljZS1tZW1vLXV1aWQAAAA0ZGF0YQAAAAEAAAAAMjQyQ0RDNTAtRDBBQy00QjFELUEwMEItQkMxNTdBMjRDRjY4AAAATql0b28AAABGZGF0YQAAAAEAAAAAY29tLmFwcGxlLlZvaWNlTWVtb3MgKGlQYWQgVmVyc2lvbiAxNC4xIChCdWlsZCAyM0I3NCkp\"\n        );\n        this.updateMode(\"speaking\");\n\n        break;\n\n        // this.connection.sendMessage({\n        //   type: \"pong\",\n        //   event_id: parsedEvent.ping_event.event_id,\n        // });\n        // parsedEvent.ping_event.ping_ms can be used on client side, for example\n        // to warn if ping is too high that experience might be degraded.\n        break;\n      }\n\n      // unhandled events are expected to be internal events\n      default: {\n        this.options.onDebug(parsedEvent);\n        break;\n      }\n    }\n  };\n\n  private onInputWorkletMessage = (event: MessageEvent): void => {\n    const rawAudioPcmData = event.data[0];\n    const maxVolume = event.data[1];\n\n    // check if the sound was loud enough, so we don't send unnecessary chunks\n    // then forward audio to websocket\n    //if (maxVolume > 0.001) {\n    if (this.status === \"connected\") {\n      this.connection.sendMessage({\n        user_audio_chunk: arrayBufferToBase64(rawAudioPcmData.buffer),\n        //sample_rate: this.inputAudioContext?.inputSampleRate || this.inputSampleRate,\n      });\n    }\n    //}\n  };\n\n  private onOutputWorkletMessage = ({ data }: MessageEvent): void => {\n    if (data.type === \"process\") {\n      this.updateMode(data.finished ? \"listening\" : \"speaking\");\n    }\n  };\n\n  private addAudioBase64Chunk = (chunk: string) => {\n    this.output.gain.gain.value = this.volume;\n    this.output.worklet.port.postMessage({ type: \"clearInterrupted\" });\n    this.output.worklet.port.postMessage({\n      type: \"buffer\",\n      buffer: base64ToArrayBuffer(chunk),\n    });\n  };\n\n  private fadeOutAudio = () => {\n    // mute agent\n    this.updateMode(\"listening\");\n    this.output.worklet.port.postMessage({ type: \"interrupt\" });\n    this.output.gain.gain.exponentialRampToValueAtTime(\n      0.0001,\n      this.output.context.currentTime + 2\n    );\n\n    // reset volume back\n    setTimeout(() => {\n      this.output.gain.gain.value = this.volume;\n      this.output.worklet.port.postMessage({ type: \"clearInterrupted\" });\n    }, 2000); // Adjust the duration as needed\n  };\n\n  private onError = (message: string, context?: any) => {\n    console.error(message, context);\n    this.options.onError(message, context);\n  };\n\n  private calculateVolume = (frequencyData: Uint8Array) => {\n    if (frequencyData.length === 0) {\n      return 0;\n    }\n\n    // TODO: Currently this averages all frequencies, but we should probably\n    // bias towards the frequencies that are more typical for human voice\n    let volume = 0;\n    for (let i = 0; i < frequencyData.length; i++) {\n      volume += frequencyData[i] / 255;\n    }\n    volume /= frequencyData.length;\n\n    return volume < 0 ? 0 : volume > 1 ? 1 : volume;\n  };\n\n  public getId = () => this.connection.conversationId;\n\n  public isOpen = () => this.status === \"connected\";\n\n  public setVolume = ({ volume }: { volume: number }) => {\n    this.volume = volume;\n  };\n\n  public getInputByteFrequencyData = () => {\n    this.inputFrequencyData ??= new Uint8Array(\n      this.input.analyser.frequencyBinCount\n    );\n    this.input.analyser.getByteFrequencyData(this.inputFrequencyData);\n    return this.inputFrequencyData;\n  };\n\n  public getOutputByteFrequencyData = () => {\n    this.outputFrequencyData ??= new Uint8Array(\n      this.output.analyser.frequencyBinCount\n    );\n    this.output.analyser.getByteFrequencyData(this.outputFrequencyData);\n    return this.outputFrequencyData;\n  };\n\n  public getInputVolume = () => {\n    return this.calculateVolume(this.getInputByteFrequencyData());\n  };\n\n  public getOutputVolume = () => {\n    return this.calculateVolume(this.getOutputByteFrequencyData());\n  };\n\n  public sendFeedback = (like: boolean) => {\n    if (!this.canSendFeedback) {\n      console.warn(\n        this.lastFeedbackEventId === 0\n          ? \"Cannot send feedback: the conversation has not started yet.\"\n          : \"Cannot send feedback: feedback has already been sent for the current response.\"\n      );\n      return;\n    }\n\n    this.connection.sendMessage({\n      type: \"feedback\",\n      score: like ? \"like\" : \"dislike\",\n      event_id: this.currentEventId,\n    });\n    this.lastFeedbackEventId = this.currentEventId;\n    this.updateCanSendFeedback();\n  };\n}\n\nexport function postOverallFeedback(\n  conversationId: string,\n  like: boolean,\n  origin: string = HTTPS_API_ORIGIN\n) {\n  return fetch(`${origin}/v1/convai/conversations/${conversationId}/feedback`, {\n    method: \"POST\",\n    body: JSON.stringify({\n      feedback: like ? \"like\" : \"dislike\",\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n}\n"],"names":["base64ToArrayBuffer","base64","binaryString","window","atob","len","length","bytes","Uint8Array","i","charCodeAt","buffer","blob","Blob","type","rawAudioProcessor","URL","createObjectURL","isIosDevice","includes","navigator","platform","userAgent","document","Input","context","analyser","worklet","inputStream","this","create","_ref","sampleRate","format","preferHeadphonesForIosDevices","Promise","resolve","_temp4","_temp2","audioWorklet","addModule","then","mediaDevices","getUserMedia","audio","options","_navigator$mediaDevic","source","createMediaStreamSource","AudioWorkletNode","port","postMessage","connect","resume","supportsSampleRateConstraint","getSupportedConstraints","AudioContext","createAnalyser","_temp","ideal","echoCancellation","noiseSuppression","_temp3","enumerateDevices","availableDevices","idealDevice","find","d","kind","keyword","label","toLowerCase","deviceId","_catch","error","_inputStream","_context","getTracks","forEach","track","stop","close","e","reject","prototype","audioConcatProcessor","Output","gain","createGain","destination","_proto","isValidSocketEvent","event","Connection","socket","conversationId","inputFormat","outputFormat","_this","queue","disconnectionDetails","onDisconnectCallback","onMessageCallback","addEventListener","setTimeout","disconnect","reason","message","code","parsedEvent","JSON","parse","data","push","_","config","origin","_config$origin","url","signedUrl","agentId","protocols","authorization","WebSocket","_socket","_config$overrides$age","_config$overrides$age2","_config$overrides$age3","_config$overrides$tts","overridesEvent","overrides","conversation_config_override","agent","prompt","first_message","firstMessage","language","tts","voice_id","voiceId","customLlmExtraBody","custom_llm_extra_body","dynamicVariables","dynamic_variables","send","stringify","once","conversation_initiation_metadata_event","console","warn","conversationConfig","conversation_id","agent_output_audio_format","user_input_audio_format","parseFormat","_socket2","sendMessage","onMessage","callback","onDisconnect","details","_this$onDisconnectCal","call","_format$split","split","formatPart","sampleRatePart","Error","parseInt","isNaN","defaultClientTools","clientTools","_settle","pact","state","value","s","_Pact","bind","v","o","defaultCallbacks","onConnect","onDebug","onError","onModeChange","onStatusChange","onCanSendFeedbackChange","onFulfilled","onRejected","result","Conversation","connection","input","output","_this2","_this3","lastInterruptTimestamp","mode","status","inputFrequencyData","outputFrequencyData","volume","currentEventId","lastFeedbackEventId","canSendFeedback","endSession","endSessionWithDetails","updateStatus","updateMode","updateCanSendFeedback","_interrupt","_temp5","_switch","interruption_event","event_id","fadeOutAudio","agent_response_event","agent_response","user_transcription_event","user_transcript","response","tentative_agent_response_internal_event","tentative_agent_response","onUnhandledClientToolCall","client_tool_call","tool_name","clientToolName","tool_call_id","is_error","hasOwnProperty","parameters","audio_event","addAudioBase64Chunk","audio_base_64","onInputWorkletMessage","b","user_audio_chunk","btoa","String","fromCharCode","apply","onOutputWorkletMessage","finished","chunk","exponentialRampToValueAtTime","currentTime","calculateVolume","frequencyData","getId","isOpen","setVolume","_ref2","getInputByteFrequencyData","frequencyBinCount","getByteFrequencyData","getOutputByteFrequencyData","_this$outputFrequency","getInputVolume","getOutputVolume","sendFeedback","like","score","onmessage","startSession","fullOptions","_extends","preliminaryInputStream","_options$connectionDe","_temp7","_Connection$create","all","_Promise$all","_preliminaryInputStre","_delayConfig$android","delayConfig","connectionDelay","default","android","delay","test","_delayConfig$ios","ios","_temp6","_preliminaryInputStre2","_connection","_input","_output","fetch","method","body","feedback","headers"],"mappings":"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"}