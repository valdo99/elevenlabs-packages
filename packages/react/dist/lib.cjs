var e=require("react"),n=require("@11labs/client");function t(){return t=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t.apply(null,arguments)}Object.defineProperty(exports,"postOverallFeedback",{enumerable:!0,get:function(){return n.postOverallFeedback}}),exports.useConversation=function(r){var u=e.useRef(null),o=e.useRef(null),c=e.useState("disconnected"),l=c[0],a=c[1],i=e.useState(!1),s=i[0],f=i[1],v=e.useState("listening"),d=v[0],g=v[1];return e.useEffect(function(){return function(){var e;null==(e=u.current)||e.endSession()}},[]),{startSession:function(e){try{var c,l,i=function(c){return l?c:function(c,l){try{var i=(o.current=n.Conversation.startSession(t({},null!=r?r:{},null!=e?e:{},{onModeChange:function(e){g(e.mode)},onStatusChange:function(e){a(e.status)},onCanSendFeedbackChange:function(e){f(e.canSendFeedback)}})),Promise.resolve(o.current).then(function(e){return u.current=e,u.current.getId()}))}catch(e){return l(!0,e)}return i&&i.then?i.then(l.bind(null,!1),l.bind(null,!0)):l(!1,i)}(0,function(e,n){if(o.current=null,e)throw n;return n})};if(null!=(c=u.current)&&c.isOpen())return Promise.resolve(u.current.getId());var s=function(){if(o.current)return Promise.resolve(o.current).then(function(e){var n=e.getId();return l=1,n})}();return Promise.resolve(s&&s.then?s.then(i):i(s))}catch(e){return Promise.reject(e)}},endSession:function(){try{var e=u.current;return u.current=null,Promise.resolve(null==e?void 0:e.endSession()).then(function(){})}catch(e){return Promise.reject(e)}},setVolume:function(e){var n;null==(n=u.current)||n.setVolume({volume:e.volume})},getInputByteFrequencyData:function(){var e;return null==(e=u.current)?void 0:e.getInputByteFrequencyData()},getOutputByteFrequencyData:function(){var e;return null==(e=u.current)?void 0:e.getOutputByteFrequencyData()},getInputVolume:function(){var e,n;return null!=(e=null==(n=u.current)?void 0:n.getInputVolume())?e:0},getOutputVolume:function(){var e,n;return null!=(e=null==(n=u.current)?void 0:n.getOutputVolume())?e:0},sendFeedback:function(e){var n;null==(n=u.current)||n.sendFeedback(e)},status:l,canSendFeedback:s,isSpeaking:"speaking"===d}};
//# sourceMappingURL=lib.cjs.map
