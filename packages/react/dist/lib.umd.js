!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("@11labs/client")):"function"==typeof define&&define.amd?define(["exports","react","@11labs/client"],n):n((e||self).elevenlabsForkValdoReact={},e.react,e.client)}(this,function(e,n,t){function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(null,arguments)}Object.defineProperty(e,"postOverallFeedback",{enumerable:!0,get:function(){return t.postOverallFeedback}}),e.useConversation=function(e){var u=n.useRef(null),o=n.useRef(null),c=n.useState("disconnected"),l=c[0],i=c[1],a=n.useState(!1),s=a[0],f=a[1],d=n.useState("listening"),v=d[0],p=d[1];return n.useEffect(function(){return function(){var e;null==(e=u.current)||e.endSession()}},[]),{startSession:function(n){try{var c,l,a=function(c){return l?c:function(c,l){try{var a=(o.current=t.Conversation.startSession(r({},null!=e?e:{},null!=n?n:{},{onModeChange:function(e){p(e.mode)},onStatusChange:function(e){i(e.status)},onCanSendFeedbackChange:function(e){f(e.canSendFeedback)}})),Promise.resolve(o.current).then(function(e){return u.current=e,u.current.getId()}))}catch(e){return l(!0,e)}return a&&a.then?a.then(l.bind(null,!1),l.bind(null,!0)):l(!1,a)}(0,function(e,n){if(o.current=null,e)throw n;return n})};if(null!=(c=u.current)&&c.isOpen())return Promise.resolve(u.current.getId());var s=function(){if(o.current)return Promise.resolve(o.current).then(function(e){var n=e.getId();return l=1,n})}();return Promise.resolve(s&&s.then?s.then(a):a(s))}catch(e){return Promise.reject(e)}},endSession:function(){try{var e=u.current;return u.current=null,Promise.resolve(null==e?void 0:e.endSession()).then(function(){})}catch(e){return Promise.reject(e)}},setVolume:function(e){var n;null==(n=u.current)||n.setVolume({volume:e.volume})},getInputByteFrequencyData:function(){var e;return null==(e=u.current)?void 0:e.getInputByteFrequencyData()},getOutputByteFrequencyData:function(){var e;return null==(e=u.current)?void 0:e.getOutputByteFrequencyData()},getInputVolume:function(){var e,n;return null!=(e=null==(n=u.current)?void 0:n.getInputVolume())?e:0},getOutputVolume:function(){var e,n;return null!=(e=null==(n=u.current)?void 0:n.getOutputVolume())?e:0},sendFeedback:function(e){var n;null==(n=u.current)||n.sendFeedback(e)},status:l,canSendFeedback:s,isSpeaking:"speaking"===v}}});
//# sourceMappingURL=lib.umd.js.map
